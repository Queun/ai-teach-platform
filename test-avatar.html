<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>头像组件测试</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .test-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }
        .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 18px;
            color: white;
            margin-bottom: 10px;
        }
        .bg-blue { background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .bg-purple { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
        .bg-pink { background: linear-gradient(135deg, #ec4899, #db2777); }
        .bg-green { background: linear-gradient(135deg, #10b981, #059669); }
        .bg-orange { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .bg-red { background: linear-gradient(135deg, #ef4444, #dc2626); }
        h1 { text-align: center; color: #333; }
        h2 { color: #666; margin-bottom: 15px; }
        .name { font-size: 16px; color: #333; margin-bottom: 5px; }
        .initials { font-size: 14px; color: #666; }
    </style>
</head>
<body>
    <h1>中英文头像显示测试</h1>
    
    <h2>中文名字测试</h2>
    <div class="test-grid">
        <div class="test-item">
            <div class="avatar bg-blue" id="avatar1">陈</div>
            <div class="name">陈丽娜</div>
            <div class="initials">显示: 陈</div>
        </div>
        <div class="test-item">
            <div class="avatar bg-purple" id="avatar2">王</div>
            <div class="name">王建华</div>
            <div class="initials">显示: 王</div>
        </div>
        <div class="test-item">
            <div class="avatar bg-pink" id="avatar3">李</div>
            <div class="name">李小明</div>
            <div class="initials">显示: 李</div>
        </div>
        <div class="test-item">
            <div class="avatar bg-green" id="avatar4">张晓</div>
            <div class="name">张 晓雯</div>
            <div class="initials">显示: 张晓</div>
        </div>
    </div>

    <h2>英文名字测试</h2>
    <div class="test-grid">
        <div class="test-item">
            <div class="avatar bg-orange" id="avatar5">JO</div>
            <div class="name">John</div>
            <div class="initials">显示: JO</div>
        </div>
        <div class="test-item">
            <div class="avatar bg-red" id="avatar6">JS</div>
            <div class="name">John Smith</div>
            <div class="initials">显示: JS</div>
        </div>
        <div class="test-item">
            <div class="avatar bg-blue" id="avatar7">MA</div>
            <div class="name">Mary Anderson</div>
            <div class="initials">显示: MA</div>
        </div>
        <div class="test-item">
            <div class="avatar bg-purple" id="avatar8">DA</div>
            <div class="name">David</div>
            <div class="initials">显示: DA</div>
        </div>
    </div>

    <h2>混合测试</h2>
    <div class="test-grid">
        <div class="test-item">
            <div class="avatar bg-pink" id="avatar9">陈J</div>
            <div class="name">陈 John</div>
            <div class="initials">显示: 陈J</div>
        </div>
        <div class="test-item">
            <div class="avatar bg-green" id="avatar10">LI</div>
            <div class="name">Li Wei</div>
            <div class="initials">显示: LI</div>
        </div>
    </div>

    <script>
        // 模拟 getInitials 函数的逻辑
        function isChinese(char) {
            return /[\u4e00-\u9fff]/.test(char);
        }

        function getInitials(name) {
            if (!name) return "?";
            
            const trimmedName = name.trim();
            const words = trimmedName.split(/\s+/);
            
            if (words.length === 1) {
                const word = words[0];
                const firstChar = word.charAt(0);
                
                // 如果首字符是中文，返回首个汉字
                if (isChinese(firstChar)) {
                    return firstChar;
                }
                
                // 如果是英文，取前两个字符
                return word.slice(0, 2).toUpperCase();
            }
            
            // 多个词的情况
            return words
                .slice(0, 2)
                .map(word => {
                    const firstChar = word.charAt(0);
                    // 中文直接返回首字，英文转大写
                    return isChinese(firstChar) ? firstChar : firstChar.toUpperCase();
                })
                .join('');
        }

        // 测试用例
        const testCases = [
            "陈丽娜",      // 陈
            "王建华",      // 王
            "李小明",      // 李
            "张 晓雯",     // 张晓
            "John",       // JO
            "John Smith", // JS  
            "Mary Anderson", // MA
            "David",      // DA
            "陈 John",    // 陈J
            "Li Wei"      // LI
        ];

        console.log("头像显示测试结果:");
        testCases.forEach((name, index) => {
            const result = getInitials(name);
            console.log(`${name} -> ${result}`);
        });
    </script>
</body>
</html>